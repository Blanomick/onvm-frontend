{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import axios from'axios';import'./Publication.css';import MainNavigation from'./MainNavigation';import{FaRetweet,FaComment,FaShare,FaHome,FaPlus,FaMicrophone,FaImage,FaVideo,FaTimes,FaCopy,FaHeart,FaUser,FaBell,FaSearch,FaBars,FaUsers}from'react-icons/fa';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const apiUrl=process.env.REACT_APP_API_URL;console.log(\"API URL utilisée :\",apiUrl);const Publication=_ref=>{let{user}=_ref;const[publications,setPublications]=useState([]);const[content,setContent]=useState('');const[media,setMedia]=useState(null);const[retweets,setRetweets]=useState({});const[likes,setLikes]=useState({});const[isCreating,setIsCreating]=useState(false);const[shareModal,setShareModal]=useState(null);const[usersList,setUsersList]=useState([]);const[commentContent,setCommentContent]=useState('');const[selectedPublication,setSelectedPublication]=useState(null);const[isRecording,setIsRecording]=useState(false);const[audioBlob,setAudioBlob]=useState(null);const[showBottomNav,setShowBottomNav]=useState(true);const[showMenu,setShowMenu]=useState(false);const navigate=useNavigate();const mediaRecorderRef=useRef(null);const lastScrollTop=useRef(0);const toggleMenu=()=>setShowMenu(!showMenu);const startRecording=async()=>{if(!navigator.mediaDevices){alert(\"L'enregistrement audio n'est pas pris en charge sur ce navigateur.\");return;}try{const stream=await navigator.mediaDevices.getUserMedia({audio:true});mediaRecorderRef.current=new MediaRecorder(stream);const chunks=[];mediaRecorderRef.current.ondataavailable=e=>chunks.push(e.data);mediaRecorderRef.current.onstop=()=>{const blob=new Blob(chunks,{type:'audio/ogg; codecs=opus'});setAudioBlob(blob);};setIsRecording(true);mediaRecorderRef.current.start();setTimeout(()=>stopRecording(),5000);}catch(error){console.error('[ERREUR] Impossible de démarrer l’enregistrement audio:',error);}};const stopRecording=()=>{setIsRecording(false);if(mediaRecorderRef.current){mediaRecorderRef.current.stop();}};const fetchPublications=async()=>{try{const response=await axios.get(`${apiUrl}/api/publications`);const publicationsWithDetails=await Promise.all(response.data.map(async publication=>{const commentsResponse=await axios.get(`${apiUrl}/api/publications/${publication.id}/comments`);return{...publication,comments:commentsResponse.data};}));setPublications(publicationsWithDetails);const initialRetweets=publicationsWithDetails.reduce((acc,pub)=>{acc[pub.id]=pub.retweetsCount||0;return acc;},{});setRetweets(initialRetweets);}catch(err){console.error('[ERREUR] Erreur lors de la récupération des publications:',err);}};const fetchUsersList=async()=>{try{const response=await axios.get(`${apiUrl}/api/users`);setUsersList(response.data);}catch(err){console.error('[ERREUR] Erreur lors de la récupération des utilisateurs:',err);}};const handlePublication=async e=>{e.preventDefault();if(!user){alert(\"Erreur : vous devez être connecté pour publier.\");return;}const formData=new FormData();formData.append('userId',user.id);formData.append('content',content);if(media)formData.append('media',media);try{await axios.post(`${apiUrl}/api/publications`,formData,{headers:{'Content-Type':'multipart/form-data'}});setContent('');setMedia(null);setIsCreating(false);fetchPublications();}catch(err){console.error('[ERREUR] Erreur lors de la publication:',err);}};const handleComment=async publicationId=>{console.log(\"Publication ID utilisé pour le commentaire :\",publicationId);// Ajout du log\nconst formData=new FormData();if(!commentContent&&!audioBlob&&!media){alert(\"Veuillez ajouter du texte, une image, une vidéo ou un fichier audio.\");return;}formData.append('userId',user.id);if(commentContent)formData.append('comment',commentContent);if(audioBlob)formData.append('audio',audioBlob,'comment_audio.ogg');if(media)formData.append('media',media);try{await axios.post(`${apiUrl}/api/publications/${publicationId}/comment`,formData,{headers:{'Content-Type':'multipart/form-data'}});setCommentContent('');setAudioBlob(null);setMedia(null);fetchPublications();}catch(err){console.error(\"[ERREUR] Erreur lors de l'ajout du commentaire:\",err);}};const handleDeletePublication=async publicationId=>{if(window.confirm('Êtes-vous sûr de vouloir supprimer cette publication ?')){try{await axios.delete(`${apiUrl}/api/publications/${publicationId}`);setPublications(prev=>prev.filter(pub=>pub.id!==publicationId));}catch(err){console.error('[ERREUR] Erreur lors de la suppression de la publication:',err);}}};const handleLike=async publicationId=>{try{await axios.post(`${apiUrl}/api/publications/${publicationId}/like`,{userId:user.id});await fetchPublications();// Ajoutez cette ligne juste après le post\nsetLikes(prevLikes=>({...prevLikes,[publicationId]:(prevLikes[publicationId]||0)+1}));}catch(err){console.error('[ERREUR] Erreur lors du like:',err);}};const handleRetweet=async publicationId=>{if(!user||!user.id){alert(\"Vous devez être connecté pour retweeter.\");return;}console.log('Données envoyées pour retweet :',{publicationId,userId:user.id});try{const response=await axios.post(`${apiUrl}/api/publications/${publicationId}/retweet`,{userId:user.id});console.log('[SUCCÈS] Réponse du backend :',response.data);// Met à jour le compteur de retweets localement\nsetPublications(prevPublications=>prevPublications.map(pub=>pub.id===publicationId?{...pub,retweetsCount:(pub.retweetsCount||0)+1}:pub));}catch(err){console.error('[ERREUR] Erreur lors du retweet:',err);if(err.response){console.error('[ERREUR] Réponse du backend :',err.response.data);}}};const copyLink=publicationId=>{const link=`${window.location.origin}/publication/${publicationId}`;navigator.clipboard.writeText(link);alert('Lien copié dans le presse-papiers.');};// Gestion des publications et des utilisateurs au chargement du composant\nuseEffect(()=>{const fetchInitialData=async()=>{try{await fetchPublications();await fetchUsersList();}catch(err){console.error('[ERREUR] Erreur lors du chargement des données initiales :',err);}};fetchInitialData();},[]);// Gestion du partage d'une publication\nconst handleSharePublication=publicationId=>{setShareModal(publicationId);fetchUsersList().then(()=>{console.log('[INFO] Liste des utilisateurs récupérée pour le partage.');}).catch(err=>{console.error('[ERREUR] Erreur lors de la récupération de la liste des utilisateurs pour le partage :',err);});};// Gestion de la barre de navigation en bas (disparition lors du scroll vers le bas)\nuseEffect(()=>{const handleScroll=()=>{const currentScroll=window.pageYOffset||document.documentElement.scrollTop;if(currentScroll>lastScrollTop.current){setShowBottomNav(false);// Cache le BottomNav lors du défilement vers le bas\n}else{setShowBottomNav(true);// Affiche le BottomNav lors du défilement vers le haut\n}lastScrollTop.current=currentScroll<=0?0:currentScroll;// Mise à jour du dernier positionnement du scroll\n};// Ajout d'un écouteur d'événement pour surveiller le défilement\nwindow.addEventListener('scroll',handleScroll);// Nettoyage de l'écouteur lors du démontage du composant\nreturn()=>{window.removeEventListener('scroll',handleScroll);};},[]);// Fonction de nettoyage de la modale de partage\nconst closeShareModal=()=>{setShareModal(null);console.log('[INFO] Modale de partage fermée.');};return/*#__PURE__*/_jsxs(\"div\",{className:\"publication-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(FaBars,{className:\"menu-icon\",onClick:toggleMenu}),/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:\"O\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-icons\",children:[/*#__PURE__*/_jsx(FaHome,{onClick:()=>navigate('/'),title:\"Accueil\"}),/*#__PURE__*/_jsx(FaUsers,{onClick:()=>navigate('/create-community'),title:\"Cr\\xE9er une communaut\\xE9\"})]})]}),showMenu&&/*#__PURE__*/_jsx(MainNavigation,{onClose:toggleMenu}),isCreating&&/*#__PURE__*/_jsxs(\"form\",{onSubmit:handlePublication,className:\"publication-form\",children:[/*#__PURE__*/_jsx(\"textarea\",{value:content,onChange:e=>setContent(e.target.value),placeholder:\"Exprimez-vous...\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:e=>setMedia(e.target.files[0]),accept:\"image/*,video/*\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Publier\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"publications-list\",children:[publications.length>0?publications.map(publication=>/*#__PURE__*/_jsxs(\"div\",{className:\"publication\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"publication-header\",children:[/*#__PURE__*/_jsx(\"img\",{src:publication.profilePicture?`${apiUrl}${publication.profilePicture}`:'/default-profile.png'// Chemin par défaut si aucune photo de profil\n,alt:`${publication.username||'Utilisateur'} - Profil`,className:\"profile-picture\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"publication-info\",children:[/*#__PURE__*/_jsxs(\"h3\",{onClick:()=>publication.userId&&navigate(`/profile/${publication.userId}`),className:\"clickable-username\",title:`Voir le profil de ${publication.username||'Utilisateur inconnu'}`,children:[publication.username||'Utilisateur inconnu',\" \"]}),/*#__PURE__*/_jsxs(\"span\",{children:[publication.created_at?new Date(publication.created_at).toLocaleDateString('fr-FR',{day:'numeric',month:'long',year:'numeric'}):'Date inconnue',\" \"]})]}),(user===null||user===void 0?void 0:user.id)===publication.userId&&/*#__PURE__*/_jsx(FaTimes,{className:\"delete-icon\",onClick:()=>handleDeletePublication(publication.id),title:\"Supprimer cette publication\"})]}),/*#__PURE__*/_jsx(\"p\",{children:publication.content}),publication.media&&/*#__PURE__*/_jsx(\"div\",{className:\"media\",children:publication.media.endsWith('.mp4')?/*#__PURE__*/_jsx(\"video\",{src:`${apiUrl}${publication.media}`,controls:true}):/*#__PURE__*/_jsx(\"img\",{src:`${apiUrl}${publication.media}`,alt:\"Publication media\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"publication-footer\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleRetweet(publication.id),children:[/*#__PURE__*/_jsx(FaRetweet,{}),\" \",publication.retweetsCount||0,\" Retweets\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleLike(publication.id),children:[/*#__PURE__*/_jsx(FaHeart,{}),\" \",publication.likes||0,\" J'aime\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setSelectedPublication(publication.id),children:[/*#__PURE__*/_jsx(FaComment,{}),\" \",publication.comments.length,\" Commentaires\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleSharePublication(publication.id),children:[/*#__PURE__*/_jsx(FaShare,{}),\" Partager\"]})]}),selectedPublication===publication.id&&/*#__PURE__*/_jsxs(\"div\",{className:\"comments-section\",children:[publication.comments.map(comment=>/*#__PURE__*/_jsxs(\"div\",{className:\"comment\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"comment-header\",children:[/*#__PURE__*/_jsx(\"img\",{src:comment.profilePicture?`${apiUrl}${comment.profilePicture}`:'/default-profile.png',alt:\"Profil\",className:\"comment-profile-picture\"}),/*#__PURE__*/_jsx(\"span\",{className:\"comment-username\",children:comment.username})]}),/*#__PURE__*/_jsx(\"p\",{children:comment.comment}),comment.media&&/*#__PURE__*/_jsx(\"div\",{className:\"comment-media\",children:comment.media.endsWith('.mp4')?/*#__PURE__*/_jsx(\"video\",{src:`${apiUrl}${comment.media}`,controls:true}):comment.media.endsWith('.ogg')||comment.media.endsWith('.mp3')?/*#__PURE__*/_jsx(\"audio\",{src:`${apiUrl}${comment.media}`,controls:true}):/*#__PURE__*/_jsx(\"img\",{src:`${apiUrl}${comment.media}`,alt:\"Comment media\"})})]},comment.id)),/*#__PURE__*/_jsxs(\"div\",{className:\"add-comment\",children:[/*#__PURE__*/_jsx(\"textarea\",{value:commentContent,onChange:e=>setCommentContent(e.target.value),placeholder:\"\\xC9crire un commentaire...\",className:\"comment-textarea\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"comment-media-section\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:`comment-image-${publication.id}`,className:\"media-icon\",children:/*#__PURE__*/_jsx(FaImage,{title:\"Ajouter une image\"})}),/*#__PURE__*/_jsx(\"input\",{id:`comment-image-${publication.id}`,type:\"file\",accept:\"image/*\",style:{display:'none'},onChange:e=>setMedia(e.target.files[0])}),/*#__PURE__*/_jsx(\"label\",{htmlFor:`comment-video-${publication.id}`,className:\"media-icon\",children:/*#__PURE__*/_jsx(FaVideo,{title:\"Ajouter une vid\\xE9o\"})}),/*#__PURE__*/_jsx(\"input\",{id:`comment-video-${publication.id}`,type:\"file\",accept:\"video/*\",style:{display:'none'},onChange:e=>setMedia(e.target.files[0])}),/*#__PURE__*/_jsx(\"button\",{onClick:startRecording,disabled:isRecording,className:`microphone-icon ${isRecording?'recording':''}`,title:\"Enregistrer un audio\",children:/*#__PURE__*/_jsx(FaMicrophone,{})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleComment(publication.id),className:\"send-comment-button\",children:\"Envoyer\"})]})]})]},publication.id)):/*#__PURE__*/_jsx(\"p\",{children:\"Aucune publication disponible.\"}),shareModal&&/*#__PURE__*/_jsxs(\"div\",{className:\"share-modal\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Partager la publication\"}),/*#__PURE__*/_jsx(\"ul\",{children:usersList.map(user=>/*#__PURE__*/_jsxs(\"li\",{children:[user.username,/*#__PURE__*/_jsx(\"button\",{onClick:()=>alert(`Partagé avec ${user.username}`),children:\"Partager\"})]},user.id))}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>copyLink(shareModal),children:[/*#__PURE__*/_jsx(FaCopy,{}),\" Copier le lien\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:closeShareModal,children:\"Fermer\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:`bottom-nav ${showBottomNav?'visible':'hidden'}`,children:[/*#__PURE__*/_jsx(FaHome,{onClick:()=>navigate('/'),title:\"Accueil\"}),/*#__PURE__*/_jsx(FaSearch,{onClick:()=>navigate('/search'),title:\"Recherche\"}),/*#__PURE__*/_jsx(FaPlus,{onClick:()=>setIsCreating(!isCreating),title:\"Cr\\xE9er une publication\"}),/*#__PURE__*/_jsx(FaBell,{onClick:()=>navigate('/notifications'),title:\"Notifications\"}),/*#__PURE__*/_jsx(FaUser,{onClick:()=>navigate(`/profile/${user===null||user===void 0?void 0:user.id}`),title:\"Mon profil\"})]})]});};export default Publication;","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","MainNavigation","FaRetweet","FaComment","FaShare","FaHome","FaPlus","FaMicrophone","FaImage","FaVideo","FaTimes","FaCopy","FaHeart","FaUser","FaBell","FaSearch","FaBars","FaUsers","useNavigate","jsx","_jsx","jsxs","_jsxs","apiUrl","process","env","REACT_APP_API_URL","console","log","Publication","_ref","user","publications","setPublications","content","setContent","media","setMedia","retweets","setRetweets","likes","setLikes","isCreating","setIsCreating","shareModal","setShareModal","usersList","setUsersList","commentContent","setCommentContent","selectedPublication","setSelectedPublication","isRecording","setIsRecording","audioBlob","setAudioBlob","showBottomNav","setShowBottomNav","showMenu","setShowMenu","navigate","mediaRecorderRef","lastScrollTop","toggleMenu","startRecording","navigator","mediaDevices","alert","stream","getUserMedia","audio","current","MediaRecorder","chunks","ondataavailable","e","push","data","onstop","blob","Blob","type","start","setTimeout","stopRecording","error","stop","fetchPublications","response","get","publicationsWithDetails","Promise","all","map","publication","commentsResponse","id","comments","initialRetweets","reduce","acc","pub","retweetsCount","err","fetchUsersList","handlePublication","preventDefault","formData","FormData","append","post","headers","handleComment","publicationId","handleDeletePublication","window","confirm","delete","prev","filter","handleLike","userId","prevLikes","handleRetweet","prevPublications","copyLink","link","location","origin","clipboard","writeText","fetchInitialData","handleSharePublication","then","catch","handleScroll","currentScroll","pageYOffset","document","documentElement","scrollTop","addEventListener","removeEventListener","closeShareModal","className","children","onClick","title","onClose","onSubmit","value","onChange","target","placeholder","files","accept","length","src","profilePicture","alt","username","created_at","Date","toLocaleDateString","day","month","year","endsWith","controls","comment","htmlFor","style","display","disabled"],"sources":["C:/Users/mambo/Downloads/ONVM/frontend/src/components/Publication.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport './Publication.css';\r\nimport MainNavigation from './MainNavigation';\r\nimport {\r\n  FaRetweet,\r\n  FaComment,\r\n  FaShare,\r\n  FaHome,\r\n  FaPlus,\r\n  FaMicrophone,\r\n  FaImage,\r\n  FaVideo,\r\n  FaTimes,\r\n  FaCopy,\r\n  FaHeart,\r\n  FaUser,\r\n  FaBell,\r\n  FaSearch,\r\n  FaBars,\r\n  FaUsers,\r\n} from 'react-icons/fa';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n\r\n\r\nconst apiUrl = process.env.REACT_APP_API_URL;\r\n\r\nconsole.log(\"API URL utilisée :\", apiUrl);\r\n\r\n\r\nconst Publication = ({ user }) => {\r\n  const [publications, setPublications] = useState([]);\r\n  const [content, setContent] = useState('');\r\n  const [media, setMedia] = useState(null);\r\n  const [retweets, setRetweets] = useState({});\r\n  const [likes, setLikes] = useState({});\r\n\r\n  const [isCreating, setIsCreating] = useState(false);\r\n  const [shareModal, setShareModal] = useState(null);\r\n  const [usersList, setUsersList] = useState([]);\r\n  const [commentContent, setCommentContent] = useState('');\r\n  const [selectedPublication, setSelectedPublication] = useState(null);\r\n  const [isRecording, setIsRecording] = useState(false);\r\n  const [audioBlob, setAudioBlob] = useState(null);\r\n  const [showBottomNav, setShowBottomNav] = useState(true);\r\n  const [showMenu, setShowMenu] = useState(false);\r\n  \r\n\r\n  const navigate = useNavigate();\r\n  const mediaRecorderRef = useRef(null);\r\n  const lastScrollTop = useRef(0);\r\n\r\n  const toggleMenu = () => setShowMenu(!showMenu);\r\n\r\n  const startRecording = async () => {\r\n    if (!navigator.mediaDevices) {\r\n      alert(\"L'enregistrement audio n'est pas pris en charge sur ce navigateur.\");\r\n      return;\r\n    }\r\n    try {\r\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\r\n      mediaRecorderRef.current = new MediaRecorder(stream);\r\n      const chunks = [];\r\n      mediaRecorderRef.current.ondataavailable = (e) => chunks.push(e.data);\r\n      mediaRecorderRef.current.onstop = () => {\r\n        const blob = new Blob(chunks, { type: 'audio/ogg; codecs=opus' });\r\n        setAudioBlob(blob);\r\n      };\r\n      setIsRecording(true);\r\n      mediaRecorderRef.current.start();\r\n      setTimeout(() => stopRecording(), 5000);\r\n    } catch (error) {\r\n      console.error('[ERREUR] Impossible de démarrer l’enregistrement audio:', error);\r\n    }\r\n  };\r\n\r\n  const stopRecording = () => {\r\n    setIsRecording(false);\r\n    if (mediaRecorderRef.current) {\r\n      mediaRecorderRef.current.stop();\r\n    }\r\n  };\r\n\r\n\r\n\r\n\r\n  const fetchPublications = async () => {\r\n    try {\r\n      const response = await axios.get(`${apiUrl}/api/publications`);\r\n      const publicationsWithDetails = await Promise.all(\r\n        response.data.map(async (publication) => {\r\n          const commentsResponse = await axios.get(`${apiUrl}/api/publications/${publication.id}/comments`);\r\n          return { ...publication, comments: commentsResponse.data };\r\n        })\r\n      );\r\n      setPublications(publicationsWithDetails);\r\n      const initialRetweets = publicationsWithDetails.reduce((acc, pub) => {\r\n        acc[pub.id] = pub.retweetsCount || 0;\r\n        return acc;\r\n      }, {});\r\n      setRetweets(initialRetweets);\r\n    } catch (err) {\r\n      console.error('[ERREUR] Erreur lors de la récupération des publications:', err);\r\n    }\r\n  };\r\n\r\n  const fetchUsersList = async () => {\r\n    try {\r\n      const response = await axios.get(`${apiUrl}/api/users`);\r\n      setUsersList(response.data);\r\n    } catch (err) {\r\n      console.error('[ERREUR] Erreur lors de la récupération des utilisateurs:', err);\r\n    }\r\n  };\r\n\r\n  const handlePublication = async (e) => {\r\n    e.preventDefault();\r\n    if (!user) {\r\n      alert(\"Erreur : vous devez être connecté pour publier.\");\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append('userId', user.id);\r\n    formData.append('content', content);\r\n    if (media) formData.append('media', media);\r\n\r\n    try {\r\n      await axios.post(`${apiUrl}/api/publications`, formData, {\r\n        headers: { 'Content-Type': 'multipart/form-data' },\r\n      });\r\n      setContent('');\r\n      setMedia(null);\r\n      setIsCreating(false);\r\n      fetchPublications();\r\n    } catch (err) {\r\n      console.error('[ERREUR] Erreur lors de la publication:', err);\r\n    }\r\n  };\r\n\r\n  const handleComment = async (publicationId) => {\r\n    console.log(\"Publication ID utilisé pour le commentaire :\", publicationId); // Ajout du log\r\n    const formData = new FormData();\r\n\r\n    if (!commentContent && !audioBlob && !media) {\r\n      alert(\"Veuillez ajouter du texte, une image, une vidéo ou un fichier audio.\");\r\n      return;\r\n    }\r\n\r\n    formData.append('userId', user.id);\r\n    if (commentContent) formData.append('comment', commentContent);\r\n    if (audioBlob) formData.append('audio', audioBlob, 'comment_audio.ogg');\r\n    if (media) formData.append('media', media);\r\n\r\n    try {\r\n      await axios.post(`${apiUrl}/api/publications/${publicationId}/comment`, formData, {\r\n        headers: { 'Content-Type': 'multipart/form-data' },\r\n      });\r\n      setCommentContent('');\r\n      setAudioBlob(null);\r\n      setMedia(null);\r\n      fetchPublications();\r\n    } catch (err) {\r\n      console.error(\"[ERREUR] Erreur lors de l'ajout du commentaire:\", err);\r\n    }\r\n  };\r\n\r\n  const handleDeletePublication = async (publicationId) => {\r\n    if (window.confirm('Êtes-vous sûr de vouloir supprimer cette publication ?')) {\r\n      try {\r\n        await axios.delete(`${apiUrl}/api/publications/${publicationId}`);\r\n        setPublications((prev) => prev.filter((pub) => pub.id !== publicationId));\r\n      } catch (err) {\r\n        console.error('[ERREUR] Erreur lors de la suppression de la publication:', err);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleLike = async (publicationId) => {\r\n    try {\r\n      await axios.post(`${apiUrl}/api/publications/${publicationId}/like`, {\r\n        userId: user.id,\r\n      });\r\n      await fetchPublications(); // Ajoutez cette ligne juste après le post\r\n      setLikes((prevLikes) => ({\r\n        ...prevLikes,\r\n        [publicationId]: (prevLikes[publicationId] || 0) + 1,\r\n      }));\r\n    } catch (err) {\r\n      console.error('[ERREUR] Erreur lors du like:', err);\r\n    }\r\n  };\r\n  \r\n  const handleRetweet = async (publicationId) => {\r\n    if (!user || !user.id) {\r\n      alert(\"Vous devez être connecté pour retweeter.\");\r\n      return;\r\n    }\r\n  \r\n    console.log('Données envoyées pour retweet :', { publicationId, userId: user.id });\r\n  \r\n    try {\r\n      const response = await axios.post(`${apiUrl}/api/publications/${publicationId}/retweet`, { userId: user.id });\r\n      console.log('[SUCCÈS] Réponse du backend :', response.data);\r\n  \r\n      // Met à jour le compteur de retweets localement\r\n      setPublications((prevPublications) =>\r\n        prevPublications.map((pub) =>\r\n          pub.id === publicationId\r\n            ? { ...pub, retweetsCount: (pub.retweetsCount || 0) + 1 }\r\n            : pub\r\n        )\r\n      );\r\n    } catch (err) {\r\n      console.error('[ERREUR] Erreur lors du retweet:', err);\r\n      if (err.response) {\r\n        console.error('[ERREUR] Réponse du backend :', err.response.data);\r\n      }\r\n    }\r\n  };\r\n  \r\n      \r\n  \r\n\r\n  const copyLink = (publicationId) => {\r\n    const link = `${window.location.origin}/publication/${publicationId}`;\r\n    navigator.clipboard.writeText(link);\r\n    alert('Lien copié dans le presse-papiers.');\r\n  };\r\n// Gestion des publications et des utilisateurs au chargement du composant\r\nuseEffect(() => {\r\n  const fetchInitialData = async () => {\r\n    try {\r\n      await fetchPublications();\r\n      await fetchUsersList();\r\n    } catch (err) {\r\n      console.error('[ERREUR] Erreur lors du chargement des données initiales :', err);\r\n    }\r\n  };\r\n\r\n  fetchInitialData();\r\n}, []);\r\n\r\n// Gestion du partage d'une publication\r\nconst handleSharePublication = (publicationId) => {\r\n  setShareModal(publicationId);\r\n  fetchUsersList()\r\n    .then(() => {\r\n      console.log('[INFO] Liste des utilisateurs récupérée pour le partage.');\r\n    })\r\n    .catch((err) => {\r\n      console.error('[ERREUR] Erreur lors de la récupération de la liste des utilisateurs pour le partage :', err);\r\n    });\r\n};\r\n\r\n// Gestion de la barre de navigation en bas (disparition lors du scroll vers le bas)\r\nuseEffect(() => {\r\n  const handleScroll = () => {\r\n    const currentScroll = window.pageYOffset || document.documentElement.scrollTop;\r\n\r\n    if (currentScroll > lastScrollTop.current) {\r\n      setShowBottomNav(false); // Cache le BottomNav lors du défilement vers le bas\r\n    } else {\r\n      setShowBottomNav(true); // Affiche le BottomNav lors du défilement vers le haut\r\n    }\r\n\r\n    lastScrollTop.current = currentScroll <= 0 ? 0 : currentScroll; // Mise à jour du dernier positionnement du scroll\r\n  };\r\n\r\n  // Ajout d'un écouteur d'événement pour surveiller le défilement\r\n  window.addEventListener('scroll', handleScroll);\r\n\r\n  // Nettoyage de l'écouteur lors du démontage du composant\r\n  return () => {\r\n    window.removeEventListener('scroll', handleScroll);\r\n  };\r\n}, []);\r\n\r\n// Fonction de nettoyage de la modale de partage\r\nconst closeShareModal = () => {\r\n  setShareModal(null);\r\n  console.log('[INFO] Modale de partage fermée.');\r\n};\r\n\r\n  \r\n\r\n\r\n  \r\n  \r\n  return (\r\n    <div className=\"publication-page\">\r\n      {/* En-tête de la page */}\r\n      <div className=\"header\">\r\n        <FaBars className=\"menu-icon\" onClick={toggleMenu} />\r\n        <div className=\"logo\">O</div>\r\n        <div className=\"header-icons\">\r\n          <FaHome onClick={() => navigate('/')} title=\"Accueil\" />\r\n          <FaUsers onClick={() => navigate('/create-community')} title=\"Créer une communauté\" />\r\n        </div>\r\n      </div>\r\n      {/* Menu coulissant */}\r\n      {showMenu && <MainNavigation onClose={toggleMenu} />}\r\n  \r\n      {/* Formulaire de création de publication */}\r\n      {isCreating && (\r\n        <form onSubmit={handlePublication} className=\"publication-form\">\r\n          <textarea\r\n            value={content}\r\n            onChange={(e) => setContent(e.target.value)}\r\n            placeholder=\"Exprimez-vous...\"\r\n          ></textarea>\r\n          <input\r\n            type=\"file\"\r\n            onChange={(e) => setMedia(e.target.files[0])}\r\n            accept=\"image/*,video/*\"\r\n          />\r\n          <button type=\"submit\">Publier</button>\r\n        </form>\r\n      )}\r\n  \r\n      {/* Liste des publications */}\r\n      <div className=\"publications-list\">\r\n        {publications.length > 0 ? (\r\n          publications.map((publication) => (\r\n            <div key={publication.id} className=\"publication\">\r\n{/* En-tête de la publication */}\r\n<div className=\"publication-header\">\r\n  {/* Vérification et affichage de la photo de profil */}\r\n  <img\r\n    src={\r\n      publication.profilePicture\r\n        ? `${apiUrl}${publication.profilePicture}`\r\n        : '/default-profile.png' // Chemin par défaut si aucune photo de profil\r\n    }\r\n    alt={`${publication.username || 'Utilisateur'} - Profil`}\r\n    className=\"profile-picture\"\r\n  />\r\n\r\n  {/* Informations sur la publication */}\r\n  <div className=\"publication-info\">\r\n    <h3\r\n      onClick={() =>\r\n        publication.userId && navigate(`/profile/${publication.userId}`)\r\n      }\r\n      className=\"clickable-username\"\r\n      title={`Voir le profil de ${publication.username || 'Utilisateur inconnu'}`}\r\n    >\r\n      {publication.username || 'Utilisateur inconnu'} {/* Nom d'utilisateur */}\r\n    </h3>\r\n    <span>\r\n      {publication.created_at\r\n        ? new Date(publication.created_at).toLocaleDateString('fr-FR', {\r\n            day: 'numeric',\r\n            month: 'long',\r\n            year: 'numeric',\r\n          })\r\n        : 'Date inconnue'} {/* Date de création */}\r\n    </span>\r\n  </div>\r\n\r\n  {/* Icône de suppression (uniquement visible pour le propriétaire de la publication) */}\r\n  {user?.id === publication.userId && (\r\n    <FaTimes\r\n      className=\"delete-icon\"\r\n      onClick={() => handleDeletePublication(publication.id)}\r\n      title=\"Supprimer cette publication\"\r\n    />\r\n  )}\r\n</div>\r\n\r\n  \r\n              {/* Contenu de la publication */}\r\n              <p>{publication.content}</p>\r\n  \r\n              {/* Médias associés à la publication */}\r\n              {publication.media && (\r\n                <div className=\"media\">\r\n                  {publication.media.endsWith('.mp4') ? (\r\n                    <video src={`${apiUrl}${publication.media}`} controls />\r\n                  ) : (\r\n                    <img src={`${apiUrl}${publication.media}`} alt=\"Publication media\" />\r\n                  )}\r\n                </div>\r\n              )}\r\n  \r\n              {/* Actions (Retweet, Commentaire, Partage) */}\r\n              <div className=\"publication-footer\">\r\n  <button onClick={() => handleRetweet(publication.id)}>\r\n    <FaRetweet /> {publication.retweetsCount || 0} Retweets\r\n  </button>    \r\n         \r\n                <button onClick={() => handleLike(publication.id)}>\r\n  <FaHeart /> {publication.likes || 0} J'aime\r\n</button>\r\n\r\n               \r\n\r\n\r\n                <button onClick={() => setSelectedPublication(publication.id)}>\r\n                  <FaComment /> {publication.comments.length} Commentaires\r\n                </button>\r\n\r\n               <button onClick={() => handleSharePublication(publication.id)}>\r\n  <FaShare /> Partager\r\n</button>\r\n\r\n              \r\n\r\n              </div>\r\n  \r\n              {/* Section des commentaires */}\r\n              {selectedPublication === publication.id && (\r\n                <div className=\"comments-section\">\r\n                  {publication.comments.map((comment) => (\r\n                    <div key={comment.id} className=\"comment\">\r\n                      <div className=\"comment-header\">\r\n                        <img\r\n                          src={\r\n                            comment.profilePicture\r\n                              ? `${apiUrl}${comment.profilePicture}`\r\n                              : '/default-profile.png'\r\n                          }\r\n                          alt=\"Profil\"\r\n                          className=\"comment-profile-picture\"\r\n                        />\r\n                        <span className=\"comment-username\">{comment.username}</span>\r\n                      </div>\r\n                      <p>{comment.comment}</p>\r\n                      {comment.media && (\r\n                        <div className=\"comment-media\">\r\n                          {comment.media.endsWith('.mp4') ? (\r\n                            <video src={`${apiUrl}${comment.media}`} controls />\r\n                          ) : comment.media.endsWith('.ogg') ||\r\n                            comment.media.endsWith('.mp3') ? (\r\n                            <audio src={`${apiUrl}${comment.media}`} controls />\r\n                          ) : (\r\n                            <img src={`${apiUrl}${comment.media}`} alt=\"Comment media\" />\r\n                          )}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  ))}\r\n\r\n<div className=\"add-comment\">\r\n  {/* Zone de texte pour le commentaire */}\r\n  <textarea\r\n    value={commentContent}\r\n    onChange={(e) => setCommentContent(e.target.value)}\r\n    placeholder=\"Écrire un commentaire...\"\r\n    className=\"comment-textarea\"\r\n  ></textarea>\r\n\r\n  {/* Section pour ajouter des médias (image/vidéo/audio) */}\r\n  <div className=\"comment-media-section\">\r\n    <label htmlFor={`comment-image-${publication.id}`} className=\"media-icon\">\r\n      <FaImage title=\"Ajouter une image\" />\r\n    </label>\r\n    <input\r\n      id={`comment-image-${publication.id}`}\r\n      type=\"file\"\r\n      accept=\"image/*\"\r\n      style={{ display: 'none' }}\r\n      onChange={(e) => setMedia(e.target.files[0])}\r\n    />\r\n\r\n    <label htmlFor={`comment-video-${publication.id}`} className=\"media-icon\">\r\n      <FaVideo title=\"Ajouter une vidéo\" />\r\n    </label>\r\n    <input\r\n      id={`comment-video-${publication.id}`}\r\n      type=\"file\"\r\n      accept=\"video/*\"\r\n      style={{ display: 'none' }}\r\n      onChange={(e) => setMedia(e.target.files[0])}\r\n    />\r\n\r\n    <button\r\n      onClick={startRecording}\r\n      disabled={isRecording}\r\n      className={`microphone-icon ${isRecording ? 'recording' : ''}`}\r\n      title=\"Enregistrer un audio\"\r\n    >\r\n      <FaMicrophone />\r\n    </button>\r\n  </div>\r\n\r\n  {/* Bouton pour envoyer le commentaire */}\r\n  <button\r\n    onClick={() => handleComment(publication.id)}\r\n    className=\"send-comment-button\"\r\n  >\r\n    Envoyer\r\n  </button>\r\n</div>\r\n\r\n                  \r\n                </div>\r\n              )}\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <p>Aucune publication disponible.</p>\r\n        )}\r\n{shareModal && (\r\n  <div className=\"share-modal\">\r\n    <h4>Partager la publication</h4>\r\n    <ul>\r\n      {usersList.map((user) => (\r\n        <li key={user.id}>\r\n          {user.username}\r\n          <button onClick={() => alert(`Partagé avec ${user.username}`)}>Partager</button>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n    {/* Bouton pour copier le lien */}\r\n    <button onClick={() => copyLink(shareModal)}>\r\n      <FaCopy /> Copier le lien\r\n    </button>\r\n    <button onClick={closeShareModal}>Fermer</button>\r\n  </div>\r\n)}\r\n\r\n\r\n\r\n      </div>\r\n  \r\n      {/* Barre de navigation en bas de la page */}\r\n      <div className={`bottom-nav ${showBottomNav ? 'visible' : 'hidden'}`}>\r\n        <FaHome onClick={() => navigate('/')} title=\"Accueil\" />\r\n        <FaSearch onClick={() => navigate('/search')} title=\"Recherche\" />\r\n        <FaPlus onClick={() => setIsCreating(!isCreating)} title=\"Créer une publication\" />\r\n        <FaBell onClick={() => navigate('/notifications')} title=\"Notifications\" />\r\n        <FaUser onClick={() => navigate(`/profile/${user?.id}`)} title=\"Mon profil\" />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Publication;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}